<!DOCTYPE html>
<html>
<head>
    <meta charset= "utf-8">
    <script>
        function computerPlay() {
            const randomNum = Math.floor((Math.random() * 3) *1);
            return (randomNum === 3) ? "rock" : (randomNum === 2) ? "paper" : "scissors";
        }
        function playRound(playerSelection, computerSelection) {
            if(playerSelection.toLowerCase() === "rock" && computerSelection === "paper") {
                return "You lose. Paper beats rock.";
            }
            else if(playerSelection.toLowerCase() === "rock" && computerSelection === "scissors") {
                return "You win! Rock beats scissors.";
            }
            else if(playerSelection.toLowerCase() === "paper" && computerSelection === "rock") {
                return "You win! Rock beats paper.";
            }
            else if(playerSelection.toLowerCase() === "paper" && computerSelection === "scissors") {
                return "You lose. Scissors beat paper.";
            }
            else if(playerSelection.toLowerCase() === "scissors" && computerSelection === "rock") {
                return "You lose. Rock beats scissors.";
            }
            else if(playerSelection.toLowerCase() === "scissors" && computerSelection === "paper") {
                return "You win! Scissors beat paper.";
            }
            else if(playerSelection.toLowerCase() === computerSelection) {
                return "It's a tie!"
            }
            else {
                return "Hmm. Something went wrong. Mind typing that in again?"
            }
        }
        function game() {
            let playerScore = 0;
            let computerScore = 0;

            for(let i=0; i<5; i++) {
                const playerSelection = prompt("Choose your weapon: Paper, Rock, or Scissors?");
                const computerSelection = computerPlay();
                console.log(`Computer played "${computerSelection}"`);
                const consoleOutput = playRound(playerSelection, computerSelection);
                console.log(consoleOutput);
                if(consoleOutput.includes("win", 4)) {
                    ++playerScore;
                }
                else {
                    ++computerScore;
                }
            }

            if(playerScore<computerScore) {
                console.log("You lost the game.");
            }
            else if(playerScore>computerScore) {
                console.log("You win the game!!!");
            }
            else {
                console.log("The game is a tie!");
            }
        }
        game();
    </script>
</head>
</html>